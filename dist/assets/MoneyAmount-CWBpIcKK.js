import{r as f,u as $,j as c,a as h}from"./index-BQP0fyHA.js";import{f as b,a as C}from"./CategoryIcon-9rblxCWz.js";const R=f.memo(function({amount:s,className:d,showSymbol:y=!0,showSign:M=!1,showCurrencyCode:g=!1,currencyCode:a,size:x="md",isExpense:I,originalCurrency:r}){const{activeCurrency:n,convertAmount:p}=$(),[u,i]=f.useState(null),[j,m]=f.useState(!0);f.useEffect(()=>{let o=!0;return(async()=>{if(m(!0),s===0){o&&(i(0),m(!1));return}const A=r||a||n;if(A===n){o&&(i(s),m(!1));return}try{const l=await p(s,A);o&&i(l)}catch(l){console.error("Error converting amount:",l),o&&i(s)}finally{o&&m(!1)}})(),()=>{o=!1}},[s,a,r,n,p]);const e=u!==null?u:s;let t=y?b(Math.abs(e),a||n):C(Math.abs(e));M&&e!==0?t=`${e>0?"+":"-"} ${t}`:e<0&&(t=`- ${t}`),g&&(t=`${t} ${a||n}`);const v={sm:"text-sm",md:"text-base",lg:"text-lg font-medium",xl:"text-2xl font-semibold"},E=r&&r!==n&&u!==null;return j?c.jsx("span",{className:h(v[x],"animate-pulse text-muted-foreground",d),"data-testid":"money-amount-loading",children:t}):c.jsxs("span",{className:h(v[x],e<0?"text-destructive":e>0?"text-primary":"",d),"data-testid":"money-amount",children:[t,E&&c.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",r,")"]})]})});export{R as M};
